<!--
Bobby Nyotta - June 2013 - OrganJet
This file is the main web application. This takes a zip code and finds the nearest kidney transplant centers.
-->
<!DOCTYPE html>
<html>
  <head>
    <title>Organ Jet</title>
    <link href="bootstrap.css" rel="stylesheet" type="text/css">
    <link href="bootstrap-responsive.css" rel="stylesheet" type="text/css">
    <link href="style.css" rel="stylesheet" type="text/css">
  
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC8ndKa5KGrRbe6feO4v4M2dODOw8w5_Q0&sensor=false"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script src="google-spreadsheets.js"></script>
    <script src="retreive-data.js"></script>
    <script> // listLow
      listLow = [{name:'Baptist Medical Center',add:'9601 Interstate 630, Little Rock, AR 72205',lng:-92.3812679999999,lat:34.74398,web:'http://www.baptist-health.com/locations/accesspoint.aspx?accessPointID=189'},{name:'UAMS Medical Center',add:'4301 West Markham Street, Little Rock, AR 72205',lng:-92.3219615,lat:34.7500376,web:'http://www.uamshealth.com/'},{name:'University of California Davis Medical Center',add:'2315 Stockton Boulevard, Sacramento, CA 95817',lng:-121.457458,lat:38.5543404,web:'http://www.ucdmc.ucdavis.edu/medicalcenter/'},{name:'Florida Hospital Medical Center',add:'601 East Rollins Street, Orlando, FL 32803',lng:-81.3700834,lat:28.576116,web:'https://www.floridahospital.com/orlando'},{name:'Shands Hospital at The University of Florida',add:'1600 SW Archer Rd, Gainesville, FL 32608',lng:-82.348444,lat:29.641548,web:'http://www.ufhealth.org/shands-transplant-center-uf'},{name:'Iowa Methodist Medical Center',add:'1200 Pleasant Street, Des Moines, IA 50309',lng:-93.6336379999999,lat:41.588989,web:'http://www.iowahealth.org/iowa-methodist-medical-center.aspx'},{name:'Lutheran Hospital of Fort Wayne',add:'7950 West Jefferson Boulevard, Fort Wayne, IN 46804',lng:-85.2446389999999,lat:41.0383289,web:'http://www.lutheranhospital.com'},{name:'St Vincent Hospital and Health Care Center',add:'2001 West 86th Street, Indianapolis, IN 46260',lng:-86.1966037999999,lat:39.910009,web:'http://www.stvincent.org/St-Vincent-Indianapolis/Default.aspx'},{name:'Via Christi Regional Medical Center, St Francis Campus',add:'929 N St Francis St, Wichita, KS 67214',lng:-97.3317589999999,lat:37.7003366,web:'http://www.via-christi.org/st-francis'},{name:'University of Kansas Hospital',add:'3901 Rainbow Boulevard, Kansas City, KS 66160',lng:-94.611683,lat:39.0561839999999,web:'http://www.kumed.com/medical-services/transplant-services'},{name:'Jewish Hospital',add:'200 Abraham Flexner Way, Louisville, KY 40202',lng:-85.7508071,lat:38.2492717,web:'http://www.jhsmh.org/Health-Services/Organ-Transplantation.aspx'},{name:'University of Kentucky Medical Center',add:'800 Rose Street, Lexington, KY 40536',lng:-84.5092758999999,lat:38.0315934,web:'http://www.ukhealthcare.uky.edu/'},{name:'Johns Hopkins Hospital',add:'1800 Orleans Street, Baltimore, MD 21287',lng:-76.5918063,lat:39.2960365,web:'http://www.hopkinsmedicine.org/transplant/'},{name:'Rochester Methodist Hospital',add:'201 West Center Street, Rochester, MN 55902',lng:-92.465879,lat:44.0235408,web:'http://www.mayoclinic.org/methodisthospital/'},{name:'Saint Marys Hospital',add:'200 1st Street Southwest, Rochester, MN 55905',lng:-92.4666254,lat:44.0221289,web:'http://www.mayoclinic.org/saintmaryshospital/'},{name:'University of Mississippi Medical Center',add:'2500 North State Street, Jackson, MS 39216',lng:-90.1703041999999,lat:32.3306919,web:'http://www.umc.edu/'},{name:'The Nebraska Medical Center',add:'42nd and Emile Street, Omaha, NE 68198',lng:-95.975774,lat:41.2542228,web:'http://www.unmc.edu/'},{name:'University of Toledo Medical Center',add:'3000 Arlington Avenue, Toledo, OH 43614',lng:-83.6163207,lat:41.6178782,web:'http://utmc.utoledo.edu/'},{name:'Miami Valley Hospital',add:'1 Wyoming Street, Dayton, OH 45409',lng:-84.185228,lat:39.745474,web:'http://www.miamivalleyhospital.org/'},{name:'Legacy Good Samaritan Hospital and Medical Center',add:'1015 Northwest 22nd Avenue, Portland, OR 97210',lng:-122.69692,lat:45.530279,web:'http://www.legacyhealth.org/locations/hospitals/legacy-good-samaritan-medical-center.aspx'},{name:'Johnson City Medical Center Hospital',add:'400 North State of Franklin Road, Johnson City, TN 37604',lng:-82.384973,lat:36.307673,web:'http://www.msha.com/hospitals/johnson_city_medical_center_l_johnson_city_tn.aspx'},{name:'University of Texas Medical Branch at Galveston',add:'301 University Boulevard, Galveston, TX 77555',lng:-94.7756309999999,lat:29.3110301,web:'http://www.utmb.edu/'},{name:'Las Palmas Medical Center',add:'1801 North Oregon Street, El Paso, TX 79902',lng:-106.4989669,lat:31.769977,web:'http://www.laspalmasdelsolhealthcare.com/locations-facilities/las-palmas-medical-center.aspx'},{name:'Intermountain Medical Center',add:'5121 South Cottonwood Street, Murray, UT 84157',lng:-111.8921836,lat:40.6592896,web:'http://intermountainhealthcare.org/hospitals/imed/Pages/home.aspx'},{name:'University of Utah Medical Center',add:'50 North Medical Drive, Salt Lake City, UT 84112',lng:-111.836808,lat:40.7716956,web:'http://healthcare.utah.edu/'},{name:'University of Wisconsin Hospital and Clinics',add:'600 Highland Avenue, Madison, WI 53792',lng:-89.4313312,lat:43.0763329,web:'http://www.uwhealth.org/'}]
    </script>
    <script> // listAll
      listAll = [{name:'University of Alabama Hospital',add:'1802 6th Ave S, Birmingham, AL 35233',lng:-86.802953,lat:33.505601,web:'http://www.uabmedicine.org/location/uab-hospital-overview'},{name:'Banner Good Samaritan Medical Center',add:'1111 East McDowell Road, Phoenix, AZ 85006',lng:-112.0580578,lat:33.4650649,web:'http://www.bannerhealth.com/Locations/Arizona/Banner+Good+Samaritan+Medical+Center/_Banner+Good+Samaritan+Medical+Center+Home.htm'},{name:'Phoenix Regional Medical Center',add:'Phoenix, AZ',lng:-112.0740373,lat:33.4483771,web:''},{name:'Mayo Clinic Hospital',add:'5777 East Mayo Boulevard, Phoenix, AZ 85054',lng:-111.9562564,lat:33.6594651,web:'http://www.mayoclinic.org/arizona/'},{name:'Scottsdale Healthcare Osborn',add:'7400 East Osborn Road, Scottsdale, AZ 85251',lng:-111.923872,lat:33.488847,web:'http://www.shc.org/Our+Hospitals/Osborn+Medical+Center/Scottsdale+Healthcare+Osborn+Medical+Center/'},{name:'University Medical Center, Univ of Arizona',add:'1501 North Campbell Avenue, Tucson, AZ 85721',lng:-110.9440922,lat:32.2386801,web:'http://www.uahealth.com/locations/university-campus'},{name:'Saint Bernardine Medical Center',add:'2101 North Waterman Avenue, San Bernardino, CA 92404',lng:-117.276027,lat:34.1349469,web:'http://www.stbernardinemedicalcenter.org?'},{name:'Cedars-Sinai Medical Center',add:'8700 Beverly Blvd, Los Angeles, CA 90048',lng:-83.1925909,lat:42.514185,web:'http://www.cedars-sinai.edu?'},{name:'Scripps Green Hospital',add:'10666 North Torrey Pines Road, San Diego, CA 92037',lng:-117.2421726,lat:32.8981026,web:'http://www.scripps.org/locations/hospitals__scripps-green-hospital'},{name:'University of California Irvine Medical Center',add:'101 The City Dr S, Orange, CA 92868',lng:-117.890264,lat:33.787975,web:'http://www.ucirvinehealth.org/maps-directions/orange/uc-irvine-medical-center/'},{name:'Harbor UCLA Medical Center',add:'1000 West Carson Street, Torrance, CA 90502',lng:-118.2940221,lat:33.8304264,web:'http://www.ladhs.org/wps/portal/HarborHomepage'},{name:'St Mary Medical Center',add:'1050 Linden Ave, Long Beach, CA 90813',lng:-118.186023,lat:33.779913,web:'http://www.stmarymedicalcenter.org?'},{name:'Loma Linda University Medical Center',add:'11370 Anderson Street, Loma Linda, CA 92354',lng:-117.261288,lat:34.047542,web:'http://lomalindahealth.org/medical-center/index.page'},{name:'California Pacific Medical Center',add:'2333 Buchanan Street, San Francisco, CA 94115 ',lng:-122.431254,lat:37.7909979999999,web:'http://www.cpmc.org'},{name:'Riverside Community Hospital',add:'4445 Magnolia Avenue, Riverside, CA 92501',lng:-117.381469,lat:33.976508,web:'http://www.riversidecommunityhospital.com/'},{name:'University of California San Diego Medical Center',add:'200 W. Arbor Drive, San Diego, CA 92103',lng:-117.1659225,lat:32.754257,web:'http://www.health.ucsd.edu/locations/Pages/hillcrest.aspx'},{name:'University of California San Francisco Medical Center',add:'505 Parnassus Avenue, San Francisco, CA 94122',lng:-122.4576884,lat:37.7632367,web:'http://www.ucsfhealth.org'},{name:'Sutter Memorial Hospital',add:'5151 F Street, Sacramento, CA 95819',lng:-121.4394899,lat:38.5706362,web:'http://www.suttermedicalcenter.org'},{name:'Sharp Memorial Hospital',add:'7901 Frost Street, San Diego, CA 92123',lng:-117.1535831,lat:32.7999928,web:'http://www.sharp.com/memorial/index.cfm'},{name:'Saint Joseph Hospital',add:'2700 Dolbeer Street, Eureka, CA 95501',lng:-124.1424974,lat:40.7833773,web:'http://www.stjosepheureka.org'},{name:'Stanford University Medical Center',add:'300 Pasteur Drive, Stanford, CA, 94305',lng:-122.180129,lat:37.4343609,web:'http://www.stanfordhospital.org/'},{name:'St. Vincent Medical Center',add:'2131 West 3rd Street, Los Angeles, CA 90057',lng:-118.27347,lat:34.063893,web:'http://www.stvincentmedicalcenter.com'},{name:'University of California at Los Angeles Medical Center',add:'757 Westwood Plaza, Los Angeles, CA 90095',lng:-118.4461265,lat:34.0667509,web:'http://www.uclahealth.org/homepage_med.cfm'},{name:'Keck Hospital of USC',add:'1500 San Pablo St., Los Angeles, CA 90033',lng:-118.201565,lat:34.0619299,web:'http://www.keckhospitalofusc.org/uscuh/services/transplant-programs'},{name:'Western Medical Center',add:'1001 North Tustin Avenue, Santa Ana, CA 92705',lng:-117.8340944,lat:33.7534089,web:'http://www.westernmedicalcenter.com'},{name:'Centura Porter Adventist Hospital',add:'2525 South Downing Street, Denver, CO 80210',lng:-104.9748989,lat:39.670053,web:'http://www.porterhospital.org/transplant'},{name:'Presbyterian/St Lukes Medical Center',add:'1719 East 19th Avenue, Denver, CO 80218',lng:-104.9662659,lat:39.746917,web:'http://www.pslmc.com/'},{name:'University of Colorado Hospital/Health Science Center',add:'12605 East 16th Avenue, Aurora, CO 80045',lng:-104.8415582,lat:39.7423359,web:'http://www.uch.edu/conditions/transplant-services/'},{name:'Hartford Hospital',add:'80 Seymour Street, Hartford, CT 06102',lng:-72.6794185999999,lat:41.7544392,web:'http://hartfordhospital.org/transplant/default.aspx'},{name:'Yale New Haven Hospital',add:'20 York Street, New Haven, CT 06510',lng:-72.9350223,lat:41.3040036,web:'http://www.ynhh.org/transplantation-center/default.aspx'},{name:'Georgetown University Medical Center',add:'3800 Reservoir Road Northwest, Washington, DC 20007',lng:-77.0743402,lat:38.910535,web:'http://gumc.georgetown.edu/'},{name:'Washington Hospital Center',add:'106 Irving Street Northwest, Washington, DC 20010',lng:-77.0137209999999,lat:38.929665,web:'http://www.whcenter.org?'},{name:'Walter Reed National Military Medical Center at Bethesda',add:'8901 Wisconsin Avenue, Bethesda, MD 20814',lng:-77.0944268,lat:39.0018413,web:'http://www.capmed.mil?'},{name:'Christiana Care Health Services',add:'200 Hygeia Drive Newark, DE 19713',lng:-75.5497223,lat:39.7510422,web:'http://www.christianacare.org/healthcarecenteratchristiana'},{name:'Bert Fish Medical Center',add:'401 Palmetto Street, New Smyrna Beach, FL 32168',lng:-80.921978,lat:29.020484,web:'http://www.bertfish.com/'},{name:'Cleveland Clinic Hospital Florida',add:'2950 Cleveland Clinic Blvd, Weston, FL 33331',lng:-80.3644949999999,lat:26.081552,web:'http://my.clevelandclinic.org/florida/locations/cleveland_clinic_florida_weston.aspx'},{name:'Gulf Coast Medical Center',add:'13681 Doctors Way, Fort Myers, FL 33912',lng:-81.8505991999999,lat:26.5445693,web:'http://www.leememorial.org/facilities/gcmcenter.asp'},{name:'Halifax Medical Center',add:'303 North Clyde Morris Boulevard, Daytona Beach, FL 32114',lng:-81.0541229,lat:29.2010494,web:'http://www.halifaxhealth.org/halifax-health-medical-center'},{name:'Jackson Memorial Hospital University of Miami School of Medicine',add:'1611 Northwest 12th Avenue, Miami, FL 33136',lng:-80.212504,lat:25.791434,web:'http://www.jacksonhealth.org/jackson-memorial.asp'},{name:'Mayo Clinic Florida',add:'4500 San Pablo Road South, Jacksonville, FL 32224',lng:-81.4405986,lat:30.2647646,web:'http://www.mayoclinic.org/jacksonville/'},{name:'Tampa General Hospital',add:'1 Tampa General Circle, Tampa, FL 33606',lng:-82.4592716,lat:27.9373986,web:'http://www.tgh.org/'},{name:'Emory University Hospital',add:'550 Peachtree Street Northeast, Atlanta, GA 30308',lng:-84.386158,lat:33.768098,web:'http://www.emoryhealthcare.org/emory-university-hospital-midtown-atlanta/index.html'},{name:'Georgia Health Sciences Medical Center',add:'1120 15th Street, Augusta, GA 30912',lng:-81.989885,lat:33.470909,web:'http://www.grhealth.org/locations-and-maps/ContentPage.aspx?nd=937'},{name:'Piedmont Hospital',add:'1968 Peachtree Road Northwest, Atlanta, GA 30309',lng:-84.395679,lat:33.810025,web:'http://www.piedmont.org/PiedmontTransplant/map-it.aspx'},{name:'Hawaii Medical Center East',add:'2226 Liliha Street, Honolulu, HI 96817',lng:-157.852077,lat:21.328689,web:'http://www.stfrancishawaii.org/'},{name:'University of Iowa Hospitals and Clinics',add:'200 Hawkins Drive, Iowa City, IA 52242',lng:-91.547999,lat:41.660922,web:'http://www.uihealthcare.org/'},{name:'Iowa City VA Medical Center',add:'601 Highway 6, West Iowa City, IA 52242',lng:-91.540209,lat:41.650525,web:'http://www.iowacity.va.gov/'},{name:'Mercy Medical Center-Des Moines',add:'1111 6th Avenue, Des Moines, IA 50314',lng:-93.623443,lat:41.598856,web:'http://www.mercydesmoines.org/'},{name:'Advocate Christ Medical Center',add:'4440 West 95th Street Oak Lawn, IL 60453',lng:-87.7322588,lat:41.7202872,web:'http://www.advocatehealth.com/cmc/'},{name:'Loyola University Medical Center',add:'2160 South 1st Avenue, Maywood, IL 60153',lng:-87.8341487,lat:41.8613369,web:'http://www.loyolamedicine.org/'},{name:'Memorial Medical Center',add:'701 North 1st Street, Springfield, IL 62781',lng:-89.6546146,lat:39.8085802,web:'http://www.memorialmedical.com?'},{name:'Northwestern Memorial Hospital',add:'676 North Saint Clair Street, Chicago, IL 60611',lng:-87.623165,lat:41.894717,web:'http://www.nmh.org/nm/location-kovler-organtransplantation-center'},{name:'Rush University Medical Center',add:'1653 West Congress Parkway, Chicago, IL 60612',lng:-87.6692739,lat:41.8749717,web:'http://www.rush.edu/'},{name:'OSF Saint Francis Medical Center',add:'530 Northeast Glen Oak Avenue, Peoria, IL 61637',lng:-89.5921031,lat:40.7026434,web:'http://www.osfsaintfrancis.org/'},{name:'University of Chicago Medical Center',add:'5841 South Maryland Avenue, Chicago, IL 60637',lng:-87.6020525,lat:41.790873,web:'http://www.uchospitals.edu/index.shtml'},{name:'University of Illinois Medical Center',add:'1740 West Taylor Street, Chicago, IL 60612',lng:-87.6705187,lat:41.8692653,web:'http://www.uillinoismedcenter.org?'},{name:'Indiana University Health',add:'550 University Blvd, Indianapolis, IN 46202',lng:-86.1754703,lat:39.7761049,web:'http://iuhealth.org/university/transplant/'},{name:'Ochsner Foundation Hospital',add:'1514 Jefferson Highway, Jefferson, LA 70121',lng:-90.1458885999999,lat:29.962834,web:'http://www.ochsner.org/locations/ochsner_main_campus/'},{name:'Tulane Medical Center',add:'1415 Tulane Avenue, New Orleans, LA 70112',lng:-90.0763065,lat:29.9556302,web:'http://tulanehealthcare.com/'},{name:'Willis-Knighton Medical Center',add:'2600 Greenwood Road, Shreveport, LA 71103',lng:-93.7783042,lat:32.483954,web:'http://www.wkhs.com/Locations/MedicalCenter.aspx'},{name:'Beth Israel Deaconess Medical Center',add:'482 Bedford Street, Lexington, MA 02420',lng:-71.251241,lat:42.4759819999999,web:'http://www.bidmc.org/CentersandDepartments/Departments/OtherLocations/BethIsraelDeaconessHealthCareLexington.aspx'},{name:'Baystate Medical Center',add:'759 Chestnut Street, Springfield, MA 01199',lng:-72.6052474999999,lat:42.1207655,web:'http://www.baystatehealth.com/Baystate'},{name:'Boston Medical Center',add:'840 Harrison Avenue, Boston, MA 02118',lng:-71.0747596,lat:42.3352244,web:'http://www.bmc.org/index.htm'},{name:'Lahey Clinic Medical Center',add:'41 Burlington Mall Road, Burlington, MA 01803',lng:-71.2050211,lat:42.4845359,web:'http://www.lahey.org/Departments_and_Locations/Locations/Medical_Centers/Lahey_Hospital___Medical_Center,_Burlington.aspx'},{name:'Massachusetts General Hospital',add:'55 Fruit Street, Boston, MA 02114',lng:-71.0694056,lat:42.3622666,web:'http://www.massgeneral.org/transplant/'},{name:'Tufts Medical Center',add:'800 Washington Street, Boston, MA 02111',lng:-71.0633079999999,lat:42.349512,web:'http://www.tuftsmedicalcenter.org/OurServices/SurgicalServices/TransplantSurgery/'},{name:'Brigham and Women\'s Hospital',add:'75 Francis Street, Boston, MA 02115',lng:-71.1070436999999,lat:42.3360028,web:'http://www.brighamandwomens.org/'},{name:'UMass Memorial Medical Center',add:'55 North Lake Avenue, Worcester, MA 01605',lng:-71.7621159999999,lat:42.275876,web:'http://www.umassmemorial.org/umass-memorial-medical-center'},{name:'University of Maryland Medical System',add:'22 South Greene Street, Baltimore, MD 2120',lng:-76.6243752,lat:39.2881658,web:'http://www.umms.org/hospitals/ummc.htm'},{name:'Maine Medical Center',add:'22 Bramhall Street, Portland, ME 04102',lng:-70.274734,lat:43.65265,web:'http://www.mmc.org/'},{name:'William Beaumont Hospital',add:'3601 W. 13 Mile Road, Royal Oak, MI 48073',lng:-83.1925909,lat:42.514185,web:'http://www.beaumont.edu/royal-oak-hospital-campus'},{name:'Henry Ford Hospital',add:'2799 West Grand Boulevard, Detroit, MI 48202',lng:-83.084589,lat:42.3661539999999,web:'http://www.henryford.com/body_hfh.cfm?id=45264'},{name:'Harper University Hospital Detroit Medical Center',add:'3990 John R Street, Detroit, MI 48201',lng:-83.0567638,lat:42.3523028,web:'http://www.harperhutzel.org?'},{name:'Hurley Medical Center',add:'One Hurley Plaza, Flint, MI 48503',lng:-83.7030837,lat:43.021347,web:'http://www.hurleymc.com/services/services/organ-transplant'},{name:'Borgess Medical Center',add:'1521 Gull Road, Kalamazoo Township, MI 49048',lng:-85.5615193,lat:42.304892,web:'http://www.borgess.com/default.aspx?pId=84#.UerbVW3t7YQ'},{name:'St John Hospital and Medical Center',add:'22101 Moross Road, Detroit, MI 48236',lng:-82.914419,lat:42.41975,web:'http://www.stjohnprovidence.org/stjohnhospital/'},{name:'St. Mary\'s Health Care - Main Hospital',add:'200 Jefferson Avenue Southeast, Grand Rapids, MI 49503',lng:-85.662899,lat:42.958568,web:'http://www.mercyhealthsaintmarys.com/saint-marys'},{name:'University of Michigan Medical Center',add:'1500 East Medical Center Drive, Ann Arbor, MI 48109',lng:-83.7296021,lat:42.2838748,web:'http://www2.med.umich.edu/healthcenters/taubman.cfm'},{name:'Abbott Northwestern Hospital',add:'800 East 28th Street, Minneapolis, MN 55407',lng:-93.2619612,lat:44.9524789,web:'http://www.allinahealth.org/ahs/anw.nsf/'},{name:'Hennepin County Medical Center',add:'701 Park Avenue, Minneapolis, MN 55415',lng:-93.2624039999999,lat:44.972097,web:'http://www.hcmc.org?'},{name:'University of Minnesota Medical Center, Fairview',add:'2450 Riverside Avenue, Minneapolis, MN 55454',lng:-93.2363957,lat:44.9676553,web:'http://www.uofmmedicalcenter.org/Specialties/OrganTransplant/index.htm'},{name:'Barnes-Jewish Hospital',add:'1 Barnes Jewish Hospital Plaza, St. Louis, MO 63110',lng:-90.2650847,lat:38.6352385,web:'http://www.barnesjewish.org/transplant-center'},{name:'DePaul Health Center',add:'12303 De Paul Drive, Bridgeton, MO 63044',lng:-90.432545,lat:38.750972,web:'http://www.ssmhealth.com/depaul'},{name:'St Johns Mercy Medical Center',add:'621 South New Ballas Road, Creve Coeur, MO 63141',lng:-90.444978,lat:38.645123,web:'http://www.mercy.net/stlouismo'},{name:'St Luke\'s Hospital of Kansas City',add:'4401 Wornall Road, Kansas City, MO 64111',lng:-94.5903726999999,lat:39.0476092,web:'http://www.saintlukeshealthsystem.org/services/saint-lukes-hospital-transplant-services'},{name:'Research Medical Center',add:'2316 East Meyer Boulevard, Kansas City, MO 64132',lng:-94.5581381,lat:39.0087053,web:'http://researchmedicalcenter.com/healthcare-services/transplant-institute/index.dot'},{name:'Saint Louis University Hospital',add:'3635 Vista Avenue, St. Louis, MO 63110',lng:-90.2394032,lat:38.6225873,web:'http://www.sluhospital.com/en-US/ourServices/medicalServices/Pages/AbdominalOrganTransplantServices.aspx'},{name:'University of Missouri Hospital and Clinics',add:'1 Hospital Drive, Columbia, MO 65201',lng:-92.3270828,lat:38.93763,web:'http://www.muhealth.org?'},{name:'North Carolina Baptist Hospital',add:'Medical Center Boulevard, Winston Salem, NC 27103',lng:-80.271608,lat:36.090619,web:'http://www.wakehealth.edu/'},{name:'Carolinas Medical Center',add:'1000 Blythe Boulevard, Charlotte, NC 28203',lng:-80.8390865,lat:35.203958,web:'http://www.carolinashealthcare.org/cmc'},{name:'Duke University Hospital',add:'2301 Erwin Road, Durham, NC 27705',lng:-78.9371932999999,lat:36.0070013,web:'http://www.dukehealth.org/locations/duke_hospital/location_details'},{name:'Vidant Medical Center',add:' 2100 Stantonsburg Road, Greenville, NC 27834',lng:-77.404766,lat:35.607262,web:'https://www.vidanthealth.com/medicalcenter/default.aspx'},{name:'University of North Carolina Hospitals',add:'101 Manning Drive, Chapel Hill, NC 27514',lng:-79.0507433,lat:35.9038175,web:'http://www.unchealthcare.org'},{name:'Medcenter One Health Systems',add:'300 N. Seventh St, Bismarck, ND 58501',lng:-100.782289,lat:46.807977,web:'http://bismarck.sanfordhealth.org/transplant/index.asp'},{name:'Sanford Medical Center Fargo',add:'801 Broadway, Fargo, ND 58122 ',lng:-96.78609,lat:46.884957,web:'http://www.sanfordhealth.org/locations/1460826246'},{name:'Mary Hitchcock Memorial Hospital',add:'1 Medical Center Drive, Lebanon, NH 03766',lng:-72.2723196,lat:43.6728634,web:'http://patients.dartmouth-hitchcock.org/our_locations/lebanon/dhmc.html'},{name:'Newark Beth Israel Medical Center',add:'201 Lyons Avenue, Newark, NJ 07112',lng:-74.2125883,lat:40.709501,web:'http://www.barnabashealth.org/hospitals/newark_beth_israel/index.html'},{name:'Hackensack University Medical Center',add:'30 Prospect Avenue, Hackensack, NJ 07601',lng:-74.0566592,lat:40.8840911,web:'http://www.lourdesnet.org/about/ollmc.php'},{name:'Our Lady of Lourdes Medical Center',add:'1600 Haddon Avenue, Camden, NJ 08103',lng:-75.0953691,lat:39.926951,web:'http://www.hackensackumc.org/'},{name:'Robert Wood Johnson University Hospital',add:'1 Robert Wood Johnson Place, New Brunswick, NJ 08901',lng:-74.4497964999999,lat:40.4958051,web:'http://www.rwjuh.edu/'},{name:'Saint Barnabas Medical Center',add:'200 South Orange Avenue, Livingston, NJ 07039',lng:-74.3555526,lat:40.7727347,web:'http://www.barnabashealth.org/hospitals/saint_barnabas/index.html'},{name:'University Hospital',add:'150 Bergen Street, Newark, NJ 07103',lng:-74.192453,lat:40.7402926,web:'http://www.uhnj.org/'},{name:'University Hospital, University of New Mexico Health Sciences Center',add:'2211 Lomas Boulevard Northeast, Albuquerque, NM 87106',lng:-106.618404,lat:35.087269,web:'http://hospitals.unm.edu/'},{name:'Presbyterian Hospital',add:'1100 Central Avenue S.E., Albuquerque, NM 87106',lng:-106.6339197,lat:35.0810167,web:'http://www.phs.org/PHS/hospitals/hospitals/abqpres/'},{name:'University Medical Center of Southern Nevada',add:'1800 West Charleston Boulevard, Las Vegas, NV 89102',lng:-115.165584,lat:36.158957,web:'https://www.umcsn.com/'},{name:'Albany Medical Center Hospital',add:'47 New Scotland Avenue, Albany, NY 12208',lng:-73.7762779,lat:42.6532407,web:'http://www.amc.edu/'},{name:'NY Presbyterian Hospital/Columbia Univ. Medical Center',add:'630 West 168th Street, New York, NY10032',lng:-73.9404607,lat:40.8413276,web:'http://nyp.org/facilities/columbia.html'},{name:'State University of New York, Downstate Medical Center',add:'450 Clarkson Avenue, Brooklyn, NY 11203',lng:-73.945718,lat:40.655431,web:'http://www.downstate.edu/transplant/'},{name:'Erie County Medical Center',add:'462 Grider Street, Buffalo, NY 14215',lng:-78.831115,lat:42.9253092,web:'http://www.ecmc.edu/'},{name:'Strong Memorial Hospital, University of Rochester Medical Center',add:'601 Elmwood Avenue, Rochester, NY 14642',lng:-77.623601,lat:43.1226626,web:'http://www.urmc.rochester.edu/strong-memorial.aspx'},{name:'Montefiore Medical Center',add:'1825 Eastchester Road, Bronx, NY 10461',lng:-73.8458358,lat:40.8490657,web:'http://www.montefiore.org'},{name:'Mount Sinai Medical Center',add:'1 Gustave L. Levy Place, New York, NY 10029',lng:-73.9539516,lat:40.7901076,web:'http://www.mountsinai.org?'},{name:'North Shore University Hospital',add:'10201 66th Road, Forest Hills, NY 11375',lng:-73.851524,lat:40.729029,web:'http://www.northshorelij.com?'},{name:'New York-Presbyterian Hospital/ Weill Cornell Medical Center',add:'525 East 68th Street, New York, NY 10065',lng:-73.9543333,lat:40.7641894,web:'http://nyp.org/facilities/weillcornell.html'},{name:'University Hospital of State University of New York at Stony Brook',add:'101 Nicolls Road, Stony Brook, NY 11794',lng:-73.1151836,lat:40.9100848,web:'http://www.stonybrookmedicine.edu?'},{name:'St. Luke\'s Roosevelt Hospital Center',add:'1000 10th Ave New York, NY 10019',lng:-73.9859735,lat:40.7699275,web:'http://www.wehealny.org'},{name:'New York University Medical Center',add:'550 First Avenue, New York, NY 10016 ',lng:-73.974079,lat:40.7433452,web:'http://www.med.nyu.edu'},{name:'State University of New York Upstate Medical University',add:'750 East Adams Street, Syracuse, NY 13210',lng:-76.1404326999999,lat:43.0426921,web:'http://www.upstate.edu/hospital/'},{name:'Westchester Medical Center',add:'100 Woods Road, Valhalla, NY 10595',lng:-73.7751325999999,lat:41.0748188,web:'http://www.worldclassmedicine.com?'},{name:'Akron City Hospital',add:'525 East Market Street, Akron, OH 44304',lng:-81.5001159999999,lat:41.081589,web:'http://www.summahealth.org/locations/hospitals/akron'},{name:'The Cleveland Clinic Foundation',add:'2049 East 100th Street, Cleveland, OH 44106',lng:-81.6180043999999,lat:41.5013298,web:'http://www.clevelandclinic.org?'},{name:'Ohio State University Medical Center',add:'410 West 10th Avenue, Columbus, OH 43210',lng:-83.0187249,lat:39.9944489,web:'http://www.medicalcenter.osu.edu'},{name:'St. Elizabeth Health Center',add:'1044 Belmont Avenue, Youngstown, OH 44504',lng:-80.655923,lat:41.114135,web:'http://www.hmpartners.org?'},{name:'The Christ Hospital',add:'2139 Auburn Avenue, Cincinnati, OH 45219',lng:-84.5105947999999,lat:39.1210473999999,web:'http://www.thechristhospital.com?'},{name:'University of Cincinnati / University Hospital',add:'234 Goodman Street, Cincinnati, OH 45219',lng:-84.5037574999999,lat:39.1374162,web:'http://www.uchealth.com/'},{name:'University Hospitals of Cleveland',add:'11100 Euclid Avenue, Cleveland, OH 44106',lng:-81.6059186999999,lat:41.5077152,web:'http://www.uhhospitals.org?'},{name:'Integris Baptist Medical Center',add:'3300 Northwest Expressway, Oklahoma City, OK 73112',lng:-97.5749567,lat:35.5296022,web:'http://www.integrisok.com?'},{name:'OU Medical Center',add:'700 Northeast 13th Street, Oklahoma City, OK 73104',lng:-97.501064,lat:35.481267,web:'http://www.oumedicine.com/oumedicalcenter'},{name:'St. Anthony Hospital',add:'1000 North Lee Avenue, Oklahoma City, OK 73102',lng:-97.523522,lat:35.478002,web:'http://www.saintsok.com'},{name:'Saint Francis Hospital',add:'6161 South Yale Avenue, Tulsa, OK 74136',lng:-95.9194179,lat:36.072803,web:'http://www.saintfrancis.com/saintfrancishospital/Pages/Services-and-Specialties/Transplant%20Services/Kidney-Transplant.aspx'},{name:'St John Medical Center',add:'1923 South Utica Avenue, Tulsa, OK 74104',lng:-95.966748,lat:36.1337197,web:'http://www.stjohnhealthsystem.com/medical-center'},{name:'Oregon Health & Sciences University',add:'3181 Southwest Sam Jackson Park Road, Portland, OR 97239',lng:-122.685356,lat:45.499653,web:'http://www.ohsu.edu'},{name:'Portland Veterans Administration Medical Center',add:'3710 Southwest US Veterans Hospital Road, Portland, OR 97239',lng:-122.683257,lat:45.496962,web:'http://www.portland.va.gov/?'},{name:'Albert Einstein Medical Center',add:'5501 Old York Road, Philadelphia, PA 19141',lng:-75.143509,lat:40.036777,web:'http://www.einstein.edu?'},{name:'Allegheny General Hospital',add:'320 E North Ave, Pittsburgh, PA 15212',lng:-80.003627,lat:40.457045,web:'http://www.wpahs.org?'},{name:'Geisinger Medical Center',add:'100 North Academy Avenue, Danville, PA 17822',lng:-76.6050616,lat:40.9678905,web:'http://www.geisinger.org/locations/gmc/index.html'},{name:'Penn State Milton S Hershey Medical Center',add:'500 University Drive, Hershey, PA 17033',lng:-76.6758201,lat:40.2646768,web:'http://www.pennstatehershey.org'},{name:'Pinnacle Health System at Harrisburg Hospital',add:'111 South Front Street, Harrisburg, PA 17101',lng:-76.8803808999999,lat:40.2573822,web:'http://www.pinnaclehealth.org'},{name:'Hahnemann University Hospital',add:'230 North Broad Street, Philadelphia, PA 19102',lng:-75.1626852,lat:39.9575277,web:'http://www.hahnemannhospital.com?'},{name:'The Lankenau Hospital',add:'100 East Lancaster Avenue, Wynnewood, PA 19096',lng:-75.2619826,lat:39.988342,web:'http://www.mainlinehealth.org?'},{name:'Lehigh Valley Hospital',add:'1200 S Cedar Crest Blvd, Allentown, PA 18103',lng:-75.523667,lat:40.5667149999999,web:'http://www.lvhn.org?'},{name:'University of Pittsburgh Medical Center',add:'200 Lothrop Street, Pittsburgh, PA 15213',lng:-79.9605211,lat:40.4427003,web:'http://www.upmc.com?'},{name:'Thomas Jefferson University Hospital',add:'111 South 11th Street, Philadelphia, PA 19107',lng:-75.1571239,lat:39.9496912,web:'http://www.jeffersonhospital.org?'},{name:'Temple University Hospital',add:'3401 North Broad Street, Philadelphia, PA 19140',lng:-75.1515525,lat:40.0050397,web:'http://www.templehealth.org?'},{name:'Hospital of the University of Pennsylvania',add:'3400 Spruce Street, Philadelphia, PA 19104',lng:-75.1937521,lat:39.9501354999999,web:'http://www.pennmedicine.org?'},{name:'VA Pittsburgh Healthcare System',add:'7180 Highland Drive, Pittsburgh, PA 15206',lng:-79.9030015,lat:40.48141,web:'http://www.pittsburgh.va.gov/?'},{name:'Geisinger Wyoming Valley Medical Ctr',add:'1000 East Mountain Drive, Wilkes-Barre, PA 18711',lng:-75.8095031,lat:41.2571,web:'http://www.geisinger.org/locations/gwv/'},{name:'Auxilio Mutuo Hospital',add:'San Juan, 00917, Puerto Rico',lng:-66.0533988,lat:18.4098512,web:'http://www.auxiliomutuo.com/main.php'},{name:'Rhode Island Hospital',add:'593 Eddy Street, Providence, RI, 02903',lng:-71.4075989999999,lat:41.812539,web:'http://www.rhodeislandhospital.org/services/transplant-center/'},{name:'Medical University of South Carolina',add:'162 Ashley Avenue, Charleston, SC 29403',lng:-79.9461379999999,lat:32.785164,web:'http://www.muschealth.com/transplant/index.htm'},{name:'Avera McKennan Hospital',add:'1325 S Cliff Avenue, Sioux Falls, SD 57105',lng:-96.7114934999999,lat:43.5350011,web:'http://www.avera.org/locations/location-detail/?id=103'},{name:'Sanford Health/USD Medical Center',add:'1305 West 18th Street, Sioux Falls, SD 57105',lng:-96.743054,lat:43.535622,web:'http://www.sanfordhealth.org/Locations/1834119252'},{name:'Erlanger Medical Center',add:'975 East 3rd Street, Chattanooga, TN 37403',lng:-85.288233,lat:35.050682,web:'http://www.erlanger.org/body.cfm?id=33'},{name:'Methodist University Hospital',add:'1265 Union Avenue, Memphis, TN 38104',lng:-90.0184235999999,lat:35.1367563,web:'http://www.methodisthealth.org/locations/methodist-university-hospital'},{name:'Centennial Medical Center',add:'313 North Main Street, Ashland City, TN 37015',lng:-87.0657044,lat:36.2775405,web:'http://tristarashlandcity.com/'},{name:'Saint Thomas Hospital',add:'4220 Harding Pike, Nashville, TN 37205',lng:-86.8421286999999,lat:36.1287248,web:'https://www.sths.com/west/Pages/Patients-and-Visitors/For-Patients/Map-and-Directions.aspx'},{name:'University of Tennessee Medical Center at Knoxville',add:'1924 Alcoa Highway, Knoxville, TN 37920',lng:-83.9432552999999,lat:35.9398478,web:'http://www.utmedicalcenter.org/departments/center-for-transplant-services/'},{name:'Vanderbilt University Medical Center',add:'1161 21st Avenue South, Nashville, TN 37212',lng:-86.8000376,lat:36.1445686,web:'http://www.vanderbilthealth.com/main/'},{name:'Nashville Veterans Administration Hospital',add:'1310 24th Avenue S, Nashville, TN 37212',lng:-86.8048725,lat:36.141841,web:'http://www.tennesseevalley.va.gov'},{name:'Baylor All Saints Medical Center',add:'1400 8th Avenue, Fort Worth, TX 76104',lng:-97.3447037,lat:32.7304063,web:'http://www.baylorhealth.com/PhysiciansLocations/AllSaints/Pages/Default.aspx'},{name:'University Hospital, University of Texas Health Science Center',add:'7703 Floyd Curl Drive, San Antonio, TX 78229',lng:-98.5739818999999,lat:29.5080361,web:'http://www.uthscsa.edu?'},{name:'North Austin Medical Center',add:'12221 Mopac Service Road, Austin, TX 78758',lng:-97.7057179999999,lat:30.412197,web:'http://www.stdavids.com/locations-facilities/north-austin-medical-center.aspx'},{name:'Texas Health Harris Methodist Fort Worth Hospital',add:'1301 Pennsylvania Avenue, Fort Worth, TX 76104',lng:-97.3387606,lat:32.736703,web:'http://www.texashealth.org/fortworth'},{name:'Medical City Dallas Hospital',add:'7777 Forest Lane, Dallas, TX 75230',lng:-96.7730711,lat:32.9099175,web:'http://medicalcityhospital.com/service/line/transplant'},{name:'Memorial Hermann Hospital, University of Texas at Houston',add:'16538 Air Center Boulevard, Houston, TX 77032',lng:-95.369884,lat:29.960123,web:'http://www.memorialhermann.org/transplant/'},{name:'St Luke\'s Episcopal Hospital',add:'6720 Bertner Avenue, Houston, TX 77030',lng:-95.4004132,lat:29.7076716,web:'http://www.stlukeshouston.com/'},{name:'Methodist Specialty and Transplant Hospital',add:'8026 Floyd Curl Drive, San Antonio, TX 78229',lng:-98.5766122,lat:29.5136293,web:'http://sahealth.com/locations/methodist-specialty-hospital/index.dot'},{name:'University Medical Center',add:'602 Indiana Avenue, Lubbock, TX 79415',lng:-101.892139,lat:33.588379,web:'http://www.umchealthsystem.com/'},{name:'McAllen Medical Center',add:'301 West Expressway 83, McAllen, TX 78503',lng:-98.2259943999999,lat:26.1862589,web:'http://www.mcallenmedicalcenter.com/'},{name:'Methodist Dallas Medical Center',add:'1441 North Beckley Avenue, Dallas, TX 75203',lng:-96.8241829,lat:32.7604503,web:'http://www.methodisthealthsystem.org/Dallas'},{name:'The Methodist Hospital',add:'6565 Fannin Street, Houston, Texas 77030',lng:-95.3998659999999,lat:29.709786,web:'http://www.methodisthealth.com/OurHospitals.cfm?id=37102'},{name:'Parkland Memorial Hospital',add:'5201 Harry Hines Boulevard, Dallas, TX 75235',lng:-96.838066,lat:32.811615,web:'http://www.parklandhospital.com/'},{name:'Christus Santa Rosa Hospital Medical Center',add:'2827 Babcock Road, San Antonio, TX 78229',lng:-98.5902093,lat:29.513028,web:'http://www.christussantarosa.org/MedicalCenter'},{name:'University Hospital - St. Paul',add:'5909 Harry Hines Blvd, Dallas, TX 75390',lng:-96.837946,lat:32.8122403,web:'http://www.utswmedicine.org/hospitals-clinics/stpaul/'},{name:'Scott and White Memorial Hospital',add:'2401 South 31st Street, Temple, TX 76504',lng:-97.3631525,lat:31.0857396,web:'http://www.sw.org/location/temple-hospital'},{name:'Baylor University Medical Center',add:'3500 Gaston Avenue, Dallas, TX 75246',lng:-96.7804369999999,lat:32.789944,web:'http://www.baylorhealth.com/PhysiciansLocations/Dallas/Pages/Default.aspx'},{name:'East Texas Medical Center',add:'1000 South Beckham Avenue, Tyler, TX 75701',lng:-95.2912236,lat:32.3382398,web:'http://www.etmc.org/etmctyler/'},{name:'Inova Fairfax Hospital',add:'3300 Gallows Road, Falls Church, VA 22042',lng:-77.2270709,lat:38.8579852,web:'http://www.inova.org/patient-and-visitor-information/facilities/inova-fairfax-hospital/index.jsp'},{name:'Henrico Doctors\' Hospital',add:'1602 Skipwith Road, Richmond, VA 23229',lng:-77.5392873,lat:37.6045913,web:'http://hcavirginia.com/locations/henrico-doctors-hospital/index.dot'},{name:'Medical College of Virginia Hospitals',add:'1201 East Marshall Street, Richmond, VA 23298',lng:-77.430144,lat:37.5394,web:'http://www.vcuhealth.org/?id=1057&sid=1'},{name:'Sentara Norfolk General Hospital',add:'600 Gresham Drive, Norfolk, VA 23507',lng:-76.3031285,lat:36.8612781,web:'http://www.sentara.com/HospitalsFacilities/Hospitals/NorfolkGeneral/Pages/norfolkgeneral.aspx'},{name:'University of Virginia Health Sciences Center',add:'1300 Jefferson Park Avenue, Charlottesville, VA 22903',lng:-78.5021488,lat:38.0321401,web:'http://uvahealth.com/directions-locations/clinics/transplant-clinic'},{name:'Fletcher Allen Health Care',add:'1 South Prospect Street, Burlington, VT 05401',lng:-73.2012029,lat:44.4801966,web:'http://www.fletcherallen.org/patients_visitors/directions/'},{name:'Sacred Heart Medical Center',add:'101 West 8th Avenue, Spokane, WA 99204',lng:-117.4126624,lat:47.6484952,web:'http://washington.providence.org/hospitals/sacred-heart-medical-center-and-childrens-hospital/'},{name:'Swedish Medical Center',add:'747 Broadway, Seattle, WA 98122',lng:-122.321156,lat:47.608695,web:'http://www.swedish.org/Locations/First-Hill-Campus'},{name:'University of Washington Medical Center',add:'1959 NE Pacific St, Seattle, WA 98195',lng:-122.3068507,lat:47.6492873,web:'http://www.uwmedicine.org/Patient-Care/Locations/UWMC/Pages/default.aspx'},{name:'Virginia Mason Medical Center',add:'100 Northeast Gilman Boulevard, Issaquah, WA 98027',lng:-122.0340806,lat:47.5371339,web:'https://www.virginiamason.org/Issaquah'},{name:'Froedtert Memorial Lutheran Hospital',add:'999 N. 92nd Street Milwaukee, WI 53226',lng:-88.026471,lat:43.041348,web:'http://www.froedtert.com/home.aspx'},{name:'Aurora St. Luke\'s Medical Center',add:'2900 West Oklahoma Avenue, Milwaukee, WI 53215',lng:-87.9502115,lat:42.9897262,web:'https://my.aurorahealthcare.org/ahc/portal/find-a-location/locationDetail/hospital/aurora-st-lukes-medical-center/'},{name:'Charleston Area Medical Center',add:'3200 Maccorkle Avenue Southeast, Charleston, WV 25304',lng:-81.6041231,lat:38.3290986,web:'http://www.camc.org/mh'}]
    </script>
    <script> // listKid
      listKid = [{name:'Arkansas Children\'s Hospital',add:'1 Children\'s Way, Little Rock, AR 72202',lng:-92.2917710999999,lat:34.7430735,web:'http://www.archildrens.org/'},{name:'Phoenix Children\'s Hospital',add:'1919 East Thomas Road, Phoenix, AZ 85016',lng:-112.03999,lat:33.479026,web:'http://www.phoenixchildrens.com/'},{name:'Rady Children\'s Hospital and Health Center',add:'3020 Children\'s Way, San Diego, CA 92123',lng:-117.1508216,lat:32.7980066,web:'http://www.rchsd.org/locations/maincampus/index.htm'},{name:'Childrens Hospital Los Angeles',add:'4650 West Sunset Boulevard, Los Angeles, CA 90027',lng:-118.289768,lat:34.098004,web:'http://www.chla.org?'},{name:'Lucile Salter Packard Children\'s Hospital at Stanford',add:'725 Welch Road, Palo Alto, CA 94304',lng:-122.175048,lat:37.436358,web:'http://www.lpch.org?'},{name:'Children\'s Hospital Colorado',add:'13123 East 16th Avenue, Aurora, CO 80045',lng:-104.8359632,lat:39.7412504,web:'http://www.childrenscolorado.org/about/locations/locationsdetails.aspx?locationID=472'},{name:'Children\'s National Medical Center',add:'111 Michigan Avenue Northwest, Washington, DC 20310',lng:-77.0140416,lat:38.9264284,web:'http://www.childrensnational.org?'},{name:'Alfred I DuPont Hospital for Children',add:'1600 Rockland Road, Wilmington, DE 19803',lng:-75.5552234,lat:39.7793465,web:'http://www.nemours.org/content/nemours/wwwv2/locations/nemours-dupont.html'},{name:'Children\'s Healthcare of Atlanta at Egleston',add:'1405 Clifton Road Northeast, Atlanta, GA 30307',lng:-84.320212,lat:33.794009,web:'http://www.choa.org/egleston'},{name:'Children\'s Memorial Hospital',add:'225 E. Chicago Ave, Chicago, IL 60611 ',lng:-87.621529,lat:41.8965342,web:'https://www.luriechildrens.org/en-us/care-services/parking-locations/Pages/lurie-childrens.aspx'},{name:'Kosair Children\'s Hospital',add:'231 East Chestnut Street, Louisville, KY 40202',lng:-85.748988,lat:38.248008,web:'http://www.kosairchildrenshospital.com/kch'},{name:'Children\'s Hospital',add:'200 Henry Clay Avenue, New Orleans, LA 70118',lng:-90.1273009,lat:29.9172962,web:'http://www.chnola.org/'},{name:'Children\'s Hospital',add:'300 Longwood Avenue, Boston, MA 02115',lng:-71.1054640999999,lat:42.3374299,web:'http://childrenshospital.org/locations/Site1395/mainpageS1395P1.html'},{name:'Children\'s Hospital of Michigan',add:'3901 Beaubien Street, Detroit, MI 48201',lng:-83.0547483,lat:42.3515326,web:'http://www.childrensdmc.org/ChildrensHospitalofMichigan'},{name:'Helen DeVos Children\'s Hospital',add:'100 Michigan Street Northwest, Grand Rapids, MI 49503',lng:-85.6657539999999,lat:42.9701856999999,web:'http://www.helendevoschildrens.org?'},{name:'Cardinal Glennon Children\'s Hospital',add:'1465 South Grand Boulevard, St. Louis, MO 63104',lng:-90.2383819,lat:38.6212352,web:'http://www.cardinalglennon.com?'},{name:'St. Louis Children\'s Hospital',add:'1 Childrens Place, St. Louis, MO 63110',lng:-90.2649615999999,lat:38.6376909,web:'http://www.stlouischildrens.org/our-services/transplant-services'},{name:'Children\'s Mercy Hospital',add:'2401 Gillham Road, Kansas City, MO 64108',lng:-94.5771999999999,lat:39.084037,web:'http://www.childrensmercy.org/Clinics_and_Services/Clinics_and_Departments/Kidney_Transplant/'},{name:'Buffalo General Hospital/ Children\'s Hospital',add:'100 High Street, Buffalo, NY 14203',lng:-78.866551,lat:42.9004246,web:'http://www.kaleidahealth.org/BGMC/'},{name:'Nationwide Children\'s Hospital',add:'700 Childrens Drive, Columbus, OH 43205',lng:-82.9794788,lat:39.9524109,web:'http://www.nationwidechildrens.org?'},{name:'Children\'s Hospital Medical Center',add:'3333 Burnet Avenue, Cincinnati, OH 45229',lng:-84.5012,lat:39.1409616,web:'http://www.cincinnatichildrens.org?'},{name:'Children\'s Hospital of Oklahoma',add:'1200 Children\'s Avenue, Oklahoma City, OK 73104',lng:-97.4949824,lat:35.4817736,web:'http://www.oumedicine.com/childrens'},{name:'Children\'s Hospital of Pittsburgh of UPMC',add:'4401 Penn Avenue, Pittsburgh, PA 15224',lng:-79.9530387,lat:40.4665132,web:'http://www.chp.edu?'},{name:'Children\'s Hospital of Philadelphia',add:'3401 Civic Center Boulevard, Philadelphia, PA 19104',lng:-75.1932729999999,lat:39.9488134,web:'http://www.chop.edu?'},{name:'St. Christopher\'s Hospital for Children',add:'3601 A Street, Philadelphia, PA 19134',lng:-75.1257141,lat:40.0060897,web:'http://www.stchristophershospital.com?'},{name:'Le Bonheur Children\'s Medical Center',add:'848 Adams Ave, Memphis, Tennessee 38103',lng:-90.0318753999999,lat:35.1436099,web:'http://www.lebonheur.org/'},{name:'Cook Children\'s Medical Center',add:'801 7th Avenue, Fort Worth, TX 76104',lng:-97.341537,lat:32.736965,web:'http://www.cookchildrens.org/Pages/Default.aspx'},{name:'Children\'s Medical Center of Dallas',add:'1935 Medical District Drive, Dallas, TX 75235',lng:-96.8381903,lat:32.8097481,web:'http://www.childrens.com/locations/dallas-campus/'},{name:'Driscoll Children\'s Hospital',add:'3533 S. Alameda Street, Corpus Christi, Texas 78411 ',lng:-97.3863439,lat:27.748554,web:'http://www.driscollchildrens.org/about_us/index.php?action=displaysection&sectionid=134'},{name:'Texas Children\'s Hospital',add:'6621 Fannin Street, Houston, TX 77030',lng:-95.4013903,lat:29.7079063,web:'http://www.texaschildrens.org/Locate/Departments-and-Services/Transplant-Services/Kidney-Transplant/'},{name:'Primary Children\'s Medical Center',add:'100 North Mario Capecchi Drive, Salt Lake City, UT 84132',lng:-111.8383455,lat:40.7707048,web:'http://intermountainhealthcare.org/hospitals/primarychildrens/Pages/home.aspx'},{name:'Children\'s Hospital of the King\'s Daughters',add:'601 Childrens Lane, Norfolk, Virginia 23507',lng:-76.3019439,lat:36.8615903,web:'http://www.chkd.org/'},{name:'Seattle Children\'s Hospital',add:'4800 Sand Point Way NE, Seattle, WA 98105',lng:-122.2822311,lat:47.662622,web:'http://www.seattlechildrens.org/'},{name:'Children\'s Hospital of Wisconsin',add:'9000 West Wisconsin Avenue, Milwaukee, WI 53226',lng:-88.0229425,lat:43.0416605,web:'http://www.chw.org?'}]
    </script>
    <script>
    // declare global variables
    var oLow = new Array()
        ,oAll = new Array()
        ,oKid = new Array()
        ,zip_obj = new Object()
        ,bounds = new google.maps.LatLngBounds()
        ,markersArray = []
        ,url_srt = 'http://maps.googleapis.com/maps/api/geocode/json?address='
        ,url_end = '&sensor=false'
        ,destIconL = 'https://chart.googleapis.com/chart?chst=d_map_pin_letter&chld=L|63D1F4|000000'
        ,destIconR = 'https://chart.googleapis.com/chart?chst=d_map_pin_letter&chld=R|12f404|000000'
        ,destIconC = 'https://chart.googleapis.com/chart?chst=d_map_pin_letter&chld=C|FFAA00|000000'
        ,originIcon = 'https://chart.googleapis.com/chart?chst=d_map_spin&chld=.75|0|FFFF00|11|_|O'
        ,numOfLoc = 5;
    var map
        ,geocoder; 
        
    // creates map
    function initialize() {
      var opts = {
        center: new google.maps.LatLng(39.8282, -98.5795), //center of america
        zoom: 4,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      };
      map = new google.maps.Map(document.getElementById('map-canvas'), opts);
      geocoder = new google.maps.Geocoder();
    }
    
    // returns closest 5 locations from each list and puts it into the table
    function calculateDistances(z) {
      getCoordFromZip(z);

      setTimeout(function () { // give getCoordFromZip() 1 second to execute
        deleteOverlays();
        //console && console.log(zip_obj.loc+','+zip_obj.lat+','+zip_obj.lng);
        addMarker(zip_obj.lat, zip_obj.lng, 'o');
        
        // find haversine distance b/w each low wait tx and zip
        for (var j = 0; j < listLow.length; j++) {
          var tmp=new Object();
          tmp.name= listLow[j].name;
          tmp.add = listLow[j].add;
          tmp.lng = listLow[j].lng;
          tmp.lat = listLow[j].lat;
          tmp.web = listLow[j].web;
          tmp.dist_num=haversine(zip_obj.lng,zip_obj.lat,listLow[j].lng,listLow[j].lat);
          oLow.push(tmp);
        }
        
        // find haversine distance b/w each regular tx and zip
        for (var j = 0; j < listAll.length; j++) {
          var tmp=new Object();
          tmp.name= listAll[j].name;
          tmp.add = listAll[j].add;
          tmp.lng = listAll[j].lng;
          tmp.lat = listAll[j].lat;
          tmp.web = listAll[j].web;
          tmp.dist_num=haversine(zip_obj.lng,zip_obj.lat,listAll[j].lng,listAll[j].lat);
          oAll.push(tmp);
          // console && console.log(tmp.dist_num );
        }
        
        // find haversine distance b/w each regular tx and zip
        for (var j = 0; j < listKid.length; j++) {
          var tmp=new Object();
          tmp.name= listKid[j].name;
          tmp.add = listKid[j].add;
          tmp.lng = listKid[j].lng;
          tmp.lat = listKid[j].lat;
          tmp.web = listKid[j].web;
          tmp.dist_num=haversine(zip_obj.lng,zip_obj.lat,listKid[j].lng,listKid[j].lat);
          oKid.push(tmp);
          // console && console.log(tmp.dist_num );
        }
        
        var oLow_Sort = oLow.sort(function(a,b) { return parseFloat(a.dist_num) - parseFloat(b.dist_num) } );
        var oAll_Sort = oAll.sort(function(a,b) { return parseFloat(a.dist_num) - parseFloat(b.dist_num) } );
        var oKid_Sort = oKid.sort(function(a,b) { return parseFloat(a.dist_num) - parseFloat(b.dist_num) } );
        for(var i=0; i<numOfLoc; i++) {
          var tbody = $('#results-table tbody');
          tbody.append("<tr><td>" + parseInt(i+1) + "</td><td><a href=" + oLow_Sort[i].web + " target='_blank'>" + oLow_Sort[i].name + "</a></td><td>" + oLow_Sort[i].add + "</td><td><a href=" + oAll_Sort[i].web + " target='_blank'>" + oAll_Sort[i].name + "</a></td><td>" + oAll_Sort[i].add + "</td><td><a href=" + oKid_Sort[i].web + " target='_blank'>" + oKid_Sort[i].name + "</a></td><td>" + oKid_Sort[i].add + "</td></tr>");
          addMarker(oLow_Sort[i].lat, oLow_Sort[i].lng, 'l');
          addMarker(oAll_Sort[i].lat, oAll_Sort[i].lng, 'r');
          addMarker(oKid_Sort[i].lat, oKid_Sort[i].lng, 'c');
          //console && console.log(oLow_Sort[i].dist_num + ' ' + oAll_Sort[i].dist_num);
        }
        map.fitBounds(bounds); //zoom based on the LatLngBounds object
        
        var thead = $('#results-table thead');
        thead.append("<th class='num'>No.</th><th class='loc'>Low Wait Time Transplant Center</th><th class='address'>Address</th><th class='loc'>Regular Transplant Center</th><th class='address'>Address</th><th class='loc'>Children's Transplant Center</th><th class='address'>Address</th>");
        description();
      },1000);
    }
    
    // adds markers to the map
    function addMarker(lat, lng, isDestination) {
      var icon;
      if (isDestination == 'l') {        // low-wait
        icon = destIconL;
      } else if (isDestination == 'r') { // regular
        icon = destIconR;
      } else if (isDestination == 'c') { // children's center
        icon = destIconC;
      } else {                           // zip code
        icon = originIcon;
      }
      // add markers using lat/lng
      var marker = new google.maps.Marker({
        map: map,
        position: new google.maps.LatLng(lat, lng), 
        icon: icon
      });
      markersArray.push(marker);
      
      bounds.extend(new google.maps.LatLng(lat, lng)); // add marker location to bounds object (for zoom)
    }
    
    // clears map of pins; clears table and text
    function deleteOverlays() {
      oLow = new Array();
      oAll = new Array();
      oKid = new Array();
      bounds = new google.maps.LatLngBounds();
      $('#results-table thead').empty();
      $('#results-table tbody').empty();
      $('#description').empty();
      $('#disclaimer').empty();
      for (var i = 0; i < markersArray.length; i++) {
        markersArray[i].setMap(null);
      }
      markersArray = [];
    }
    
    // Computes the Haversince distance between two points
    function haversine(lon1, lat1, lon2, lat2) {
      var R = 3958.7558657440545 // miles
        ,dLat = toRad(lat2-lat1)
        ,dLon = toRad(lon2-lon1)
        ,lat1 = toRad(lat1)
        ,lat2 = toRad(lat2);
 
      var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
              Math.sin(dLon/2) * Math.sin(dLon/2) * Math.cos(lat1) * Math.cos(lat2); 
      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
      return R * c;
    }
    
    // Converts numeric degrees to radians
    function toRad(Value) {
      return Value * Math.PI / 180;
    }
    
    // All of the text that comes below the results table is in here. This is not dynamic at all.
    function description() {
      var descrip = $('#description');
      descrip.append("<p>We have provided the five closest kidney transplant locations with lowest median wait times along with five closest regular and children's transplant centers:</p>");
      descrip.append("<ul><li>Yellow Pin - Location of Your Zip Code</li><li>Blue Pin - Locations of the closest low wait time transplant centers</li><li>Green Pin - Locations of the closest regular transplant centers</li><li>Orange Pin - Locations of the closest children's transplant centers</li></ul>");
      descrip.append("<p></p>The transplant center locations were obtained from <a href='http://www.srtr.org' target='_blank'>Scientific Registry of Transplant Recipients</a>.");
      descrip.append("<p></p>If a geographically close transplant center is also a low wait time transplant center, it will only show up in the 'Low Wait Time' column.");
      //descrip.append("<p></p>The map in this application is supported by Google Maps Javascript API V3, which has strict usage limits. Querying too many zip codes in a short period of time can cause the application to fail. If this happens, refresh the page.");
      descrip.append("<p></p>This application was developed and tested with Mozilla Firefox 22.0 and Google Chrome 28.0. For best results, use these browsers and enable JavaScript. We are working on fully supporting other web browsers across various devices.");
      var disclaim = $('#disclaimer');
      disclaim.append("<p></p>OrganJet and GuardianWings do not provide medical advice. All information presented here is for educational/awareness purposes only. Please consult your physician before taking any action. Every effort has been made to furnish accurate and most up to date summarized data based on publicly available information.");
    }
    
    // Returns the longitude and latitude from a zip code
    function getCoordFromZip(z) {
      $.getJSON(url_srt + z + url_end, function(data) {
        zip_obj.lng=data.results[0].geometry.location.lng;
        zip_obj.lat=data.results[0].geometry.location.lat;
        zip_obj.loc=data.results[0].formatted_address;
      });
    }
    
    google.maps.event.addDomListener(window, 'load', initialize);
    
    </script>
  </head>
  
  <body>
    <h3 class="offset1">Find a Kidney Transplant Center with a Low Wait Time</h3>
    <div class='row map-container'>
      <div class="span10 offset1" id="map-canvas"></div>
    </div>
    <div class='row'>
      <div class="span6 offset3">
        <p>
          <form id="zipForm">
            Enter Your Zip Code: <input id="zip" name="zip" type="text" maxlength="5"/>
            <input id="execButton" name="buttonExecute" type="button" value="Find" class='btn' />
          </form> 
        </p>
      </div>
    </div>
    <div class='row'>
      <div class="span10 offset1">
        <table id="results-table" class='table table-striped table-bordered table-hover table-condensed'>
          <thead></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
    <div class='row'>
      <div class="span10 offset1 well">
        <p id="description"></p>
        <p id="disclaimer"></p>
      </div>
    </div>
    
    <script>
      //catch the keydown event when #zip has the focus
      function validateZipInput(z) {
        if (z.length < 5) {
          alert("Zip Code Must Be 5 Digits");
          return false;
        } else if (z.match(/^[0-9]+$/) == null) {
          alert("Zip Code Can Only Contain Digits");
          return false;
        }
        else {
          return true;
        }
      }
      $("#zipForm").submit(function() {
        console.log('sbumit event');
        // if(isDone()) { return false };
        var zip = $('#zip').val();
        if (validateZipInput(zip)) {
          calculateDistances(zip);
        }
        return false;
      })
      $('#execButton').on("click", function(){
        // if(isDone()) { return false };
        var zip = $('#zip').val();
        if (validateZipInput(zip)) {
          calculateDistances(zip);
        }
      })
    </script>
    
  </body>
</html>